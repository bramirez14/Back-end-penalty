<html>
    <head>
       <meta charset="utf-8">
       <!-- CSS only -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-wEmeIV1mKuiNpC+IOBjI7aAzPcEZeedi5yW5f2yOq55WWLwNGmvvx4Um1vskeMj0" crossorigin="anonymous">
       <title>Penalty PDF</title>
       <style>
          .invoice-box {
          max-width: 800px;
          margin: auto;
          padding: 30px;
          border: 1px solid #eee;
          box-shadow: 0 0 10px rgba(0, 0, 0, .15);
          font-size: 16px;
          line-height: 24px;
          font-family: 'Helvetica Neue', 'Helvetica';
          color: #555;
          }
          .margin-top {
          margin-top: 50px;
          }
          .justify-center {
          text-align: end;
          margin-right: 50px;
          }
          .invoice-box table {
          width: 100%;
          line-height: inherit;
          text-align: left;
          }
          .invoice-box table td {
          padding: 5px;
          vertical-align: top;
          }
          .invoice-box table tr td:nth-child(2) {
          text-align: right;
          }
          .invoice-box table tr.top table td {
          padding-bottom: 20px;
          }
          .invoice-box table tr.top table td.title {
          font-size: 45px;
          line-height: 45px;
          color: #333;
          }
          .contenedor-table{
              padding: 40px;
          }
          .encabezado{
              background-color: #ddd;
          }
          .h1{
            background-color: #ddd;
            height: 45px;
            border-radius: 10px;
            width: 400px;
            text-align: center;
          }
          @media only screen and (max-width: 600px) {
          .invoice-box table tr.top table td {
          width: 100%;
          display: block;
          text-align: center;
          }
         
          }
          .contenedor-table{
              padding: 40px;
          }
          .encabezado{
              background-color: #ddd;
          }
          .h1{
            background-color: #ddd;
            height: 45px;
            border-radius: 10px;
            width: 400px;
            text-align: center;
          }
       </style>
    </head>
    <body>
       <div class="invoice-box">
          <table cellpadding="0" cellspacing="0">
             <tr class="top">
                <td colspan="2">
                   <table>
                      <tr>
                         <td style="border: #ddd;" >
                            <img  src="https://pbs.twimg.com/profile_images/1253409980830515200/io9X6flT_400x400.jpg"
                            style="width:100%; max-width:156px;">
                           </td>
                         <td>
                            <div>
                                <span >
                                  <b > E-mail:</b> info@penalty.com.ar <br />
                                  <b >Telefono:</b>+54112120-0200 <br />
                                  <b >Sito Web:</b> www.penalty.com.ar <br />
                                  <b >Direcci√≥n:</b> Av.Libertador 6680 CABA <br />
                                  <b>Penalty Argentina S.A</b>

                                </span>
                              </div>
                         </td>
                      </tr>
                   </table>
                </td>
             </tr>
             <tr class="information">
                <td colspan="2">
             <table>
                <tr>
                   <td>
                  
                          <h3>Empleado: <%=usuario.nombre  %>, <%=usuario.apellido %> </h3>
                        
                          <div >
                            <span>
                              <div><b>Fecha:</b> <%=new Date().toLocaleDateString()%></div>
                              <div> <b>Email:</b> <%=usuario.email%></div>
                              <div> <b>Departamento:</b> <%=departamento%></div>
                              <div> <b>Responsable:</b> <%= nombre %>, <%=apellido  %></div>
                              <div> <b> Email del responsable: </b> <%= email %></div>
                              
                            </span>
                          </div>
                   </td>
                   <td >
                       <div> <h2 > Rendicion de Gasto #<%= id %> </h2></div>
                        <div>  <h3> Importe Solicitado: <%= gasto.importe %>        </h3>  </div>
                   </td>
                </tr>
             </table>
            </td>
        </tr>
          </td>
       
    </table>
          </table>
        </div>  <div class="contenedor-table">
             <table class="table">
                <thead class="encabezado">
                  <tr>
                    <th scope="col">Categoria</th>
                    <th scope="col">Fecha De ingreso</th>
                    <th scope="col">Comprobante</th>
                    <th scope="col">Descripcion</th>
                    <th scope="col">Importe</th>
                  </tr>
                </thead>
                <tbody>
                    <% data.forEach(d => { %>
                  <tr >
                  <td > <%= d.categoria %> </td>
                  <td> <%= d.fecha %> </td>
                  <td> <img src='<%= d.imagen %> ' style='width: 70px; height: 50px;' > </td>
                  <td> <%= d.notas %> </td>
                  <td > $<%= d.importe %> </td>
                  </tr>
                  <% }); %>
                </tbody>
              </table>
            </div>
          <br />
         <% let a = data.map(d=> d.importe)
         let b=  a.reduce((acumulador,item)=>{return acumulador = parseFloat(acumulador)+parseFloat(item)})%>
          <h1 class="justify-center" > Importe Total $<%= b %></h1>
       
       <!-- JavaScript Bundle with Popper -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-p34f1UUtsS3wqzfto5wAAmdvj+osOnFyQFpp4Ua3gs/ZVWx6oOypYoCJhGGScy+8" crossorigin="anonymous"></script>
    </body>
 </html>